

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core" template="/template/adminTemplate.xhtml">
	
	<h:head></h:head>

			<ui:define name="event">







			<style>
body {
	background-color: #323232;
}

.dropdown {
	color: #282828;
	font-family: arial;
	font-size: 14px;
	right: 0px;
	position: absolute;
}

.mega-titre {
	display: none;
}

.boutons {
	background-color: #FFF;
	box-shadow: 0 10px 10px 0 rgba(0, 0, 0, 0.40);
	padding: 5px;
}

.bloc {
	display: flex;
	line-height: 50px;
}

.bloc:hover, .bloc:active, .active {
	background-color: rgba(40, 40, 40, 0.10);
	cursor: pointer;
}

.titre {
	font-size: 16px;
	font-weight: bold;
	line-height: 35px;
	margin: 0 15px;
}

.picto {
	fill: rgba(40, 40, 40, 0.25);
	height: 50px;
	width: 50px;
}

.label-sans-picto .label {
	margin: 0 15px;
}

.label-avec-pictos .label {
	margin: 0 15px 0 5px;
}

.separation {
	background-color: rgba(40, 40, 40, 0.25);
	height: 1px;
	margin: 5px;
}

.champs-texte {
	border: 1px solid rgba(40, 40, 40, 0.25);
	height: 38px;
	margin: 10px 15px;
	min-width: 200px;
	padding: 0 15px;
	width: calc(100% - 62px);
}

.filtre-applique {
	background-color: rgba(40, 40, 40, 0.10);
	display: flex;
	margin: 10px 15px;
}

.filtre-applique .label {
	line-height: 50px;
	margin: 0 15px;
}

.filtre-applique .picto {
	height: 30px;
	margin: 10px 15px;
	position: absolute;
	right: 15px;
	width: 30px;
}

.filtre-applique .picto:hover {
	fill: rgba(40, 40, 40, 1);
	cursor: pointer;
}

.bouton-supprimer {
	background-color: rgba(206, 73, 82, 0.2);
	display: flex;
	margin: 5px;
}

.bouton-supprimer .label {
	color: #CE4952;
	font-size: 16px;
	font-weight: bold;
	line-height: 50px;
	margin: 0 15px;
}

.bouton-supprimer .picto {
	fill: #CE4952;
	height: 30px;
	margin: 10px 15px;
	position: absolute;
	right: 0;
	width: 30px;
}

.bouton-supprimer:hover {
	background-color: rgba(206, 73, 82, 0.4);
	cursor: pointer;
}

.groupe-filtre {
	display: flex;
	margin: 5px 0;
}

.filtre-picto {
	text-align: center;
	width: 80px;
	opacity: 0.25;
}

.filtre-picto .picto {
	border: 1px solid #282828;
	fill: #282828;
	height: 40px;
	width: 40px;
}

.filtre-picto .label {
	font-size: 12px;
	line-height: 14px;
	margin: 10px 0 15px 0;
}

.filtre-picto:hover {
	cursor: pointer;
	opacity: 1;
}

.filtre-picto:hover .picto {
	border: 1px solid rgba(40, 40, 40, 0.1);
	background-color: rgba(40, 40, 40, 0.1);
}

@media ( max-width : 640px) {
	.dropdown {
		bottom: 0;
		font-size: 18px;
		left: 0;
		position: absolute;
		overflow: auto-flow;
		top: auto;
		width: 100%;
	}
	.mega-titre {
		color: #FFFFFF;
		display: block;
		font-size: 36px;
		font-weight: bold;
		line-height: 70px;
		margin-left: 20px;
	}
	.boutons {
		box-shadow: none;
	}
	.bloc {
		line-height: 60px;
	}
	.titre {
		font-size: 21px;
		line-height: 45px;
	}
	.picto {
		height: 60px;
		width: 60px;
	}
	.champs-texte {
		font-size: 18px;
		height: 48px;
		padding: 0 20px;
		width: calc(100% - 72px);
	}
	.filtre-applique {
		margin: 10px 15px;
	}
	.filtre-applique .label {
		font-size: 18px;
		line-height: 60px;
		margin: 0 20px;
	}
	.filtre-applique .picto {
		height: 30px;
		margin: 15px 20px;
		position: absolute;
		right: 15px;
		width: 30px;
	}
	.bouton-supprimer .label {
		font-size: 20px;
		line-height: 60px;
		margin: 0 20px;
	}
	.bouton-supprimer .picto {
		margin: 15px 20px;
	}
	.filtre-picto {
		width: 90px;
	}
	.filtre-picto .picto {
		height: 50px;
		width: 50px;
	}
	.filtre-picto .label {
		font-size: 14px;
		line-height: 16px;
	}
	.pt-3-half {
		padding-top: 1.4rem;
	}
}
</style>

			<style>
.table>thead>tr>th, .table>tbody>tr>th, .table>tfoot>tr>th, .table>thead>tr>td,
	.table>tbody>tr>td, .table>tfoot>tr>td {
	padding: 8px;
	line-height: 1.428571429;
	vertical-align: middle;
	border-top: 1px solid #ddd;
	text-align: center;
}

.fund-imagee {
	width: 75px; ! important;
	height: 75px;
	!
	important;
}
</style>




			<style>
details {
	border: 1px solid #aaa;
	border-radius: 4px;
	padding: .5em .5em 0;
}

summary {
	font-weight: bold;
	margin: -.5em -.5em 0;
	padding: .5em;
}

details[open] {
	padding: .5em;
}

details[open] summary {
	border-bottom: 1px solid #aaa;
	margin-bottom: .5em;
}
</style>




<style>
.avatar-wrapper {
	position: relative;
	height: 200px;
	width: 200px;
		margin: 50px auto; 
/* 	border-radius: 50%; */
	overflow: hidden;
	box-shadow: 1px 1px 15px -5px black;
	transition: all 0.3s ease;
}

.avatar-wrapper:hover {
	transform: scale(1.05);
	cursor: pointer;
}

.avatar-wrapper:hover .profile-pic {
	opacity: 0.5;
}

.avatar-wrapper .profile-pic {
	height: 100%;
	width: 100%;
	transition: all 0.3s ease;
}

.avatar-wrapper .profile-pic:after {
	font-family: FontAwesome;
	content: "\f007";
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	font-size: 190px;
	background: #ecf0f1;
	color: #34495e;
	text-align: center;
}

.avatar-wrapper .upload-button {
	position: absolute;
	top: 0;
	left: 0;
	height: 100%;
	width: 100%;
}

.avatar-wrapper .upload-button .fa-arrow-circle-up {
	position: absolute;
	font-size: 200px;
	top: 0px;
	left: 5px;
	text-align: center;
	opacity: 0;
	transition: all 0.3s ease;
	color: #34495e;
}

.avatar-wrapper .upload-button:hover .fa-arrow-circle-up {
	opacity: 0.9;
}
</style>






			<div class="card" style="max-width: 80%; left: 1%; top: 10px;">

				<div class="card-body" style="max-width: 100%">
					<div id="table" class="table-editable">
						<span class="table-add float-right mb-3 mr-2"> <b:iconAwesome
								name="futbol-o" spin="true" size="2x" /></span>







						<details> 
						<summary style=" background-color: #dc3545;">Ajouter Un Event</summary>

<h:form>

					                    <h:outputText value="Event (titre)"></h:outputText>
											<h:inputText value="#{eventControllerImpl.titre_event}"></h:inputText>

                                                <h:outputText value="Event description "></h:outputText>
											<h:inputText value="#{eventControllerImpl.description}"></h:inputText>


											
										<p:outputLabel for="multi" value="Date Start Event :" />
									<p:calendar id="multi" value="#{eventControllerImpl.date_start_event}" pages="3" />



                                          
										<p:outputLabel for="ca" value="Date Fin Event: " />
									<p:calendar id="ca" value="#{eventControllerImpl.date_end_event}" pages="3" />


											<h:outputText value="Price (DT)"></h:outputText>
											<h:inputText value="#{eventControllerImpl.price}"></h:inputText>

                                           <h:outputText value="Time "></h:outputText>
											<h:inputText value="#{eventControllerImpl.time}"></h:inputText>

                               <h:outputText value="Nbr places  (Number)"></h:outputText> 
		                     <h:inputText value="#{eventControllerImpl.nbr_places}"></h:inputText>



											
						                    <h:outputText value="location"></h:outputText> 

    
    
    
		                          <h:inputText value="#{eventControllerImpl.location}"></h:inputText>
		
	                              <h:outputText value="lat"></h:outputText> 
	
		                        	<h:inputText id="lat" value="#{eventControllerImpl.lat}"></h:inputText>
		
		                               <h:outputText value="lng"></h:outputText> 
		
			                                <h:inputText id="lng" value="#{eventControllerImpl.lng}"></h:inputText>
						
						
						<h:commandButton  iconAwesome="fa-user-plus"
								style="background-color: #FF5733 ;" value="Affiche Map"
												action="#{eventControllerImpl.mapEvent()}"
												require="image">
											</h:commandButton>
						
						<h:commandButton  iconAwesome="fa-user-plus"
								style="background-color: #FF5733 ;" value="Ajouter Event"
												action="#{eventControllerImpl.ajouterEvent()}"
												require="image">
											</h:commandButton>
						
						
						<h:commandButton iconAwesome="fa-user-plus"
								style="background-color: #FF5733 ; " value="Mettre A jour Event" 
													action="#{eventControllerImpl.updateEvent()}" ></h:commandButton>
													
										</h:form>			
						
						</details>

						<br /> <br />
						
						
						
						
						
						

						<h:form >







							<b:commandButton value=" Page Admin Event Consomi Tounsi " iconAwesome="fa-cart-plus"
								style="background-color: #D4AF37;position: absolute;left: 44%;">
								<f:ajax execute="@this" render="@form" />
							</b:commandButton>





							<div></div>






							<b:dataTable value="#{eventControllerImpl.events}"
								class="editableCarTable" var="event"
								onorder="console.log('order');" onpage="console.log('page');"
								onsearch="console.log('search');"
								onselect="ajax:Jackpotpool.onSelect( jackpot,typeOfSelection,indexes);"
								
								select="true" selectionMode="multiple" caption="Event Table">




			
						
								<b:dataTableColumn value="#{event.titre_event}">

								</b:dataTableColumn>

                               <b:dataTableColumn value="#{event.description}">

								</b:dataTableColumn>

								<b:dataTableColumn label="Image">


								<h:graphicImage value="#{event.eventimage}" class="fund-imagee" ></h:graphicImage>
								</b:dataTableColumn>


								<b:dataTableColumn value="#{event.date_start_event}">

								</b:dataTableColumn>

								<b:dataTableColumn value="#{event.date_end_event}">

								</b:dataTableColumn>

								<b:dataTableColumn value="#{event.time}">
								</b:dataTableColumn>
								
								<b:dataTableColumn value="#{event.price}">

								</b:dataTableColumn>

                               <b:dataTableColumn value="#{event.location}">

								</b:dataTableColumn>
								
								 							
								
                                 <b:dataTableColumn value="#{event.nbr_participants}">

								</b:dataTableColumn>
								 <b:dataTableColumn value="#{event.nbr_interssants}">

								</b:dataTableColumn>

								<b:dataTableColumn label="Delete">
									<b:commandButton value="Delete" iconAwesome="trash"
										style="background-color: #dc3545;"
										action="#{eventControllerImpl.deleteeventById(event.id)}">

									</b:commandButton>
									
									
									
									</b:dataTableColumn>
									
									<b:dataTableColumn label="Update">
									<b:commandButton value="Update" iconAwesome="trash"
										style="background-color: #008000;"
										action="#{eventControllerImpl.displayEvent(event)}">

									</b:commandButton>
									</b:dataTableColumn>
				
							</b:dataTable>





 





						</h:form>












	</div>
			</div>
		</div>















							
				
						
						<p:growl id="messages" showDetail="true" />
 
<p:gmap id="gmap" center="36.765953,10.212814" zoom="9" type="HYBRID" style="width:100%;height:400px"
    model="#{addMarkersView.emptyModel}" onPointClick="handlePointClick(event);" widgetVar="map" />
 
<p:dialog widgetVar="dlg" showEffect="fade">
    <h:form prependId="false">
    
    
        <h:panelGrid columns="2">
            <h:outputLabel for="title" value="Title:" />
            <p:inputText id="title" value="#{addMarkersView.title}" />
 
            <f:facet name="footer">
                <p:commandButton value="Add" action="#{addMarkersView.addMarker}" update=":messages" oncomplete="markerAddComplete()" />
                <p:commandButton value="Cancel" onclick="return cancel()" />
            </f:facet>
        </h:panelGrid>
 
        <h:inputHidden id="lat" value="#{addMarkersView.lat}" />
        <h:inputHidden id="lng" value="#{addMarkersView.lng}" />
        
        
 
  
    </h:form>
    
  
</p:dialog>
						
			
			
						
						
	
			<script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>
        <script type="text/javascript">
            var currentMarker = null;
             
            function handlePointClick(event) {
                if(currentMarker === null) {
                    document.getElementById('lat').value = event.latLng.lat();
                    document.getElementById('lng').value = event.latLng.lng();
                    //window.alert(document.getElementById('lng').value)
 



 

 
                    currentMarker = new google.maps.Marker({
                        position:new google.maps.LatLng(event.latLng.lat(), event.latLng.lng())
                    });
     
                    PF('map').addOverlay(currentMarker);
 
                    PF('dlg').show();
                }   
            }
         
            	
            
            function markerAddComplete() {
                var title = document.getElementById('title');
                currentMarker.setTitle(title.value);
                title.value = "";
 
                currentMarker = null;
                PF('dlg').hide();
            }
 
            function cancel() {
                PF('dlg').hide();
                currentMarker.setMap(null);
                currentMarker = null;
 
                return false;
            }
        </script>			
						
						
				
						
						
						
						




				
							
						
				
				</ui:define>		
						
						
		</ui:composition>				
						
						
			



		<!-- End Shop Newsletter -->
	
	
	
	
	

